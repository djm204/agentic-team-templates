---
description: Core development principles - honesty over output, security-first mindset, functional programming patterns, SOLID principles, and DRY. Apply to all code decisions.
alwaysApply: true
---

# Core Principles

## 1. Honesty Over Output

- If something doesn't work, say it doesn't work
- If you don't know, say you don't know
- If a pattern is wrong, refactor it immediately
- Tests must pass. Green CI or it didn't happen

## 2. Security First

- **Zero Trust**: Every input is hostile until proven otherwise
- **Email Verification**: Hardcoded allowlist for `me@davidmendez.dev` only
- **Rate Limiting**: Cloudflare Workers built-in rate limiting on all mutations
- **CSRF Protection**: State parameter validation on OAuth flows
- **XSS Prevention**: Sanitize all MDX before storage and rendering
- **Content Security Policy**: Strict CSP headers via Cloudflare Pages
- **No Client-Side Secrets**: All auth validation server-side only

## 3. Functional Programming Bias

Prefer functional programming patterns over imperative:

```typescript
// Prefer this
const processProjects = pipe(validateProjects, filterActive, sortByDate);

// Over this
function processProjects(projects) {
  let valid = [];
  for (let p of projects) {
    if (isValid(p)) valid.push(p);
  }
  // ... mutation hell
}
```

## 4. SOLID Principles

- **Single Responsibility**: One function, one job
- **Open/Closed**: Extend via composition, not modification
- **Liskov Substitution**: Type safety via TypeScript strict mode
- **Interface Segregation**: Small, focused interfaces
- **Dependency Inversion**: Inject dependencies, never import concrete implementations

## 5. DRY (Don't Repeat Yourself)

- Abstract repeated patterns into utilities
- Create reusable components
- Share types across client/server boundaries
- One source of truth for validation schemas
